# kafka-stream-session-example
This is a Kafka Stream application that tracks a user session.  It ingests a kafka topic of user interactions with a website and produces a resulting KTable tracking each user's most recent session(where a session is defined as all the pages seen by a user, where each pageview occurred within, at most, n milliseconds of the previous pageview).

### Note
- I use `aggregate` without a window in [getPath](https://github.com/jacobBaumbach/kafka-stream-session-example/blob/master/src/main/scala/tables.scala#L20).  By not using a window, my KTable contains a user's last session despite no activity within the designated session window.  This information could be used by another application to inform where a user may go when they begin a new session.  I plan on adding another function to `Tables` that will consume the topic outputed by [getPath](https://github.com/jacobBaumbach/kafka-stream-session-example/blob/master/src/main/scala/tables.scala#L20) that will implement session windowing such that it produces a topic of solely complete sessions.
- The tests do not pass as they currently stand, though `getPath` is printing the expected result.  I am currently in the process of finding out the [issue](https://github.com/manub/scalatest-embedded-kafka/issues/89).  If you'd like to generate a fat jar of this application and are using a mac use the following line: `sbt 'set test in assembly := {}' clean assembly` 
